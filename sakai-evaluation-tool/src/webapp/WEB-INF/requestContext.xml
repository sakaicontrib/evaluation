<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2005 Sakai Foundation Licensed under the
    Educational Community License, Version 2.0 (the "License"); you may
    not use this file except in compliance with the License. You may
    obtain a copy of the License at

    http://www.osedu.org/licenses/ECL-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an "AS IS"
    BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
    or implied. See the License for the specific language governing
    permissions and limitations under the License.

-->
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- specialty beans -->

    <!-- for now we will just hardwire the rich text control for this app to be
        the Sakai FCKEditor-based rich text control -->
    <bean id="richTextEvolver"
        class="uk.org.ponder.springutil.BeanReferenceFactoryBean">
        <!--  disabling the rich text editor since it seems to be failing in firefox -AZ -->
        <property name="targetBeanName" value="sakaiFCKTextEvolver" />
        <!--      <property name="targetBeanName" value="plainTextInputEvolver" />-->
    </bean>

    <!-- navigation renderer -->
    <bean id="navBarRenderer" class="org.sakaiproject.evaluation.tool.renderers.NavBarRenderer">
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="settings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="developerHelperService"
            ref="org.sakaiproject.entitybroker.DeveloperHelperService" />
        <property name="serverConfigurationService"
            ref="org.sakaiproject.component.api.ServerConfigurationService" />
    </bean>

    <bean id="humanDateRenderer" class="org.sakaiproject.evaluation.tool.renderers.HumanDateRenderer" init-method="init">
      <property name="locale" ref="requestLocale" />
      <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
      <property name="messageLocator" ref="messageLocator" />
    </bean>

    <bean id="adminBoxRenderer" class="org.sakaiproject.evaluation.tool.renderers.AdminBoxRenderer"
        init-method="init" >
        <property name="locale" ref="requestLocale" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="deliveryService"
            ref="org.sakaiproject.evaluation.logic.EvalDeliveryService" />
        <property name="settings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="evalBeanUtils"
            ref="org.sakaiproject.evaluation.beans.EvalBeanUtils" />
        <property name="humanDateRenderer" ref="humanDateRenderer" />
    </bean>
    
    <bean id="beEvaluatedBoxRenderer" class="org.sakaiproject.evaluation.tool.renderers.BeEvaluatedBoxRenderer"
        init-method="init" >
        <property name="locale" ref="requestLocale" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="settings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="humanDateRenderer" ref="humanDateRenderer" />
        <property name="deliveryService"
            ref="org.sakaiproject.evaluation.logic.EvalDeliveryService" />
        <property name="evalBeanUtils"
            ref="org.sakaiproject.evaluation.beans.EvalBeanUtils" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
    </bean>
    
    <bean id="evaluateBoxRenderer" class="org.sakaiproject.evaluation.tool.renderers.EvaluateBoxRenderer"
        init-method="init">
        <property name="locale" ref="requestLocale" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="deliveryService"
            ref="org.sakaiproject.evaluation.logic.EvalDeliveryService" />
        <property name="humanDateRenderer" ref="humanDateRenderer" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
    </bean>

    <!-- request scope backing beans here -->

    <bean id="setupEvalBean" class="org.sakaiproject.evaluation.tool.SetupEvalBean"
        init-method="init">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="evaluationBeanLocator" ref="evaluationBeanLocator" />
        <property name="emailTemplateWBL" ref="emailTemplateWBL" />
        <property name="messages" ref="targettedMessageList" />
        <property name="locale" ref="requestLocale" />
        <property name="selectedEvalautionUsersLocator" ref="selectedEvaluationUsersLocator"/>
    	<property name="assignGroupSelectionSettings" ref="assignGroupSelectionSettings"/>
    	<property name="settings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="renderingUtils" ref="renderingUtils"/>
    </bean>

    <bean id="takeEvalBean" class="org.sakaiproject.evaluation.tool.TakeEvalBean">
        <property name="responseBeanLocator" ref="responseBeanLocator" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="messages" ref="targettedMessageList" />
    </bean>

    <bean id="templateBBean" class="org.sakaiproject.evaluation.tool.TemplateBBean">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="localTemplateLogic" ref="localTemplateLogic" />
        <property name="itemBeanWBL" ref="itemWBL" />
        <property name="templateItemWBL" ref="templateItemWBL" />
        <property name="templateBeanLocator" ref="templateBeanLocator" />
        <property name="scaleBeanLocator" ref="scaleBeanLocator" />
        <property name="messages" ref="targettedMessageList" />
    </bean>

    <bean id="administrateSearchBean" 
    		class="org.sakaiproject.evaluation.tool.AdministrateSearchBean">
    </bean>

        <!-- DO NOT USE SAKAI SERVICES DIRECTLY -->
<!-- 
    <bean id="importBean" class="org.sakaiproject.evaluation.tool.ImportBean">
        <property name="evalImportLogic"
            ref="org.sakaiproject.evaluation.logic.imports.EvalImportLogic" />
        <property name="contentHostingService"
            ref="org.sakaiproject.content.api.ContentHostingService" />
        <property name="sessionManager" ref="org.sakaiproject.tool.api.SessionManager" />
    </bean>
-->

    <bean id="expertItemsBean" class="org.sakaiproject.evaluation.tool.ExpertItemsBean">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
    </bean>

    <bean id="sendEmailsBean" class="org.sakaiproject.evaluation.tool.SendEmailsBean">
        <property name="emailsLogic"
            ref="org.sakaiproject.evaluation.logic.EvalEmailsLogic" />
        <property name="evalEvaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="messages" ref="targettedMessageList" />
    </bean>
	
	<bean id="evalAdminBean" class="org.sakaiproject.evaluation.tool.EvalAdminBean">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
		<property name="settings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
		<property name="messages" ref="targettedMessageList" />
    </bean>

    <bean id="reportHandlerHook"
        class="org.sakaiproject.evaluation.tool.reporting.ReportHandlerHook">
        <property name="viewparams" ref="viewParameters" />
        
        <property name="response" ref="httpServletResponse" />
        <property name="reportExporterBean" ref="reportExporterBean"/>
    </bean>
	
	<bean id="hierarchyBean" class="org.sakaiproject.evaluation.tool.HierarchyBean">
		<property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
		<property name="hierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
		<property name="messages" ref="targettedMessageList" />
	</bean>

	<!-- Bean override for rootHandlerHook see RSF-123 and CTL-1214 -->
	<bean id="rootHandlerBean" class="org.sakaiproject.evaluation.tool.utils.RootHandlerBeanOverride" init-method="handle">
	    <property name="exportConfigHook" ref="exportConfigHook" />	
        <property name="httpServletRequest" ref="httpServletRequest" />
		<property name="reportHandlerHook" ref="reportHandlerHook"/>
        <property name="rootHandlerBeanBase" ref="overridedRootHandlerBean"/>
	</bean>

	<bean id="overridedRootHandlerBean" parent="rootHandlerBeanBase" init-method="doNothing" class="org.sakaiproject.evaluation.tool.utils.OverridedServletRootHandlerBean">
    	<property name="httpServletRequest" ref="httpServletRequest" />
    	<property name="httpServletResponse" ref="httpServletResponse" />
  	</bean>

    <bean id="org.sakaiproject.evaluation.tool.reporting.CurrentViewableReports"
        class="org.sakaiproject.evaluation.tool.reporting.CurrentViewableReports">
        <property name="reportingPermissions"
            ref="org.sakaiproject.evaluation.logic.ReportingPermissions" />
    </bean>
    
    <bean id="providerSyncBean" 
    	class="org.sakaiproject.evaluation.tool.ProviderSyncBean" 
    	init-method="init">
    	<property name="messages" ref="targettedMessageList" />
    	<property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
    </bean>
	
    <!-- LOCATORS - OTP bean locators here -->
    <bean id="settingsBean"
        class="org.sakaiproject.evaluation.tool.locators.SettingsWBL">
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="leafParser" ref="generalLeafParser" />
        <property name="messages" ref="targettedMessageList" />
    </bean>

    <bean id="emailSettingsBean"
        class="org.sakaiproject.evaluation.tool.locators.EmailSettingsWBL">
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="leafParser" ref="generalLeafParser" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="messages" ref="targettedMessageList" />
    </bean>

    <bean id="templateBeanLocator"
        class="org.sakaiproject.evaluation.tool.locators.TemplateBeanLocator">
        <property name="localTemplateLogic" ref="localTemplateLogic" />
    </bean>

    <bean id="templateItemWBL"
        class="org.sakaiproject.evaluation.tool.locators.TemplateItemWBL">
        <property name="localTemplateLogic" ref="localTemplateLogic" />
        <property name="messages" ref="targettedMessageList" />
        <property name="authoringService" ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
    </bean>

    <bean id="itemWBL" class="org.sakaiproject.evaluation.tool.locators.ItemBeanWBL">
        <property name="localTemplateLogic" ref="localTemplateLogic" />
    </bean>

    <bean id="emailTemplateWBL"
        class="org.sakaiproject.evaluation.tool.locators.EmailTemplateWBL">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="messages" ref="targettedMessageList" />
    </bean>

    <bean id="scaleBeanLocator"
        class="org.sakaiproject.evaluation.tool.locators.ScaleBeanLocator">
        <property name="localTemplateLogic" ref="localTemplateLogic" />
    </bean>

    <bean id="evaluationBeanLocator"
        class="org.sakaiproject.evaluation.tool.locators.EvaluationBeanLocator">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="evalBeanUtils"
            ref="org.sakaiproject.evaluation.beans.EvalBeanUtils" />
    </bean>

    <bean id="responseBeanLocator"
        class="org.sakaiproject.evaluation.tool.locators.ResponseBeanLocator">
        <property name="localResponsesLogic" ref="localResponsesLogic" />
    </bean>

    <bean id="responseAnswersBeanLocator"
        class="org.sakaiproject.evaluation.tool.locators.ResponseAnswersBeanLocator">
        <property name="localResponsesLogic" ref="localResponsesLogic" />
        <property name="responseBeanLocator" ref="responseBeanLocator" />
    </bean>

    <bean id="answersBeanLocator"
        class="org.sakaiproject.evaluation.tool.locators.ResponseAnswersBeanLocator">
    </bean>

    <bean id="hierNodeLocator"
        class="org.sakaiproject.evaluation.tool.locators.HierarchyNodeLocator">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="hierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
    </bean>

    <bean id="hierNodeGroupsLocator"
        class="org.sakaiproject.evaluation.tool.locators.HierarchyNodeGroupsLocator">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="hierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
    </bean>
    
    <bean id="selectedEvaluationUsersLocator" 
    	class="org.sakaiproject.evaluation.tool.locators.SelectedEvaluationUsersLocator">
    </bean>

    <bean id="assignGroupSelectionSettings" 
    	class="org.sakaiproject.evaluation.tool.locators.AssignGroupSelectionSettings">
    </bean>

    <bean id="adhocGroupsBean"
        class="org.sakaiproject.evaluation.tool.locators.AdhocGroupsBean">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="messages" ref="targettedMessageList" />
    </bean>

    <bean id="adhocGroupMemberRemovalBean"
        class="org.sakaiproject.evaluation.tool.locators.AdhocGroupMemberRemovalBean">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="messages" ref="targettedMessageList" />
    </bean>

    <!-- evolver definitions here -->

    <bean id="HierarchyRenderUtil"
        class="org.sakaiproject.evaluation.tool.utils.HierarchyRenderUtil">
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
    </bean>

    <bean id="renderingUtils" 
        class="org.sakaiproject.evaluation.tool.utils.RenderingUtils">
        <property name="authoringService"
        ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
    </bean>

    <!-- producers below here -->
    <!-- NOTE: cannot use parent beans in RSF producers -->

    <!-- ADMINISTRATE producers -->
    <bean class="org.sakaiproject.evaluation.tool.producers.AdministrateProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
		<property name="navBarRenderer" ref="navBarRenderer" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.AdministrateReportingProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="navBarRenderer" ref="navBarRenderer" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.AdministrateSearchProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="deliveryService"
            ref="org.sakaiproject.evaluation.logic.EvalDeliveryService" />
        <property name="evalBeanUtils"
            ref="org.sakaiproject.evaluation.beans.EvalBeanUtils" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.AdministrateProviderSyncProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="externalLogic"
            ref="org.sakaiproject.evaluation.logic.externals.EvalExternalLogic" />
        <property name="evalSettings" 
        	ref="org.sakaiproject.evaluation.logic.EvalSettings" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
		<property name="messages" ref="targettedMessageList" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.AdminTestEGProviderProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>
    
    <bean class="org.sakaiproject.evaluation.tool.producers.AdministrateEmailProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evalSettings" 
        	ref="org.sakaiproject.evaluation.logic.EvalSettings" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
        <property name="dateEvolver" ref="sakaiDateFieldEvolver"/>
    </bean>
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlImportProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
        <!-- DO NOT USE SAKAI SERVICES DIRECTLY -->
        <property name="sessionManager" ref="org.sakaiproject.tool.api.SessionManager" />
        <property name="evalSettings" ref="org.sakaiproject.evaluation.logic.EvalSettings"/>
    </bean>


    <!-- HIERARCHY - Views for Controlling and Administering the Hierarchy -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlHierarchyProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="hierarchyRenderUtil" ref="HierarchyRenderUtil" />
        <property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyHierarchyNodeProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="hierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyHierarchyNodeGroupsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="hierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>
	
	<bean class="org.sakaiproject.evaluation.tool.producers.ControlEvalAdminProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="settings" 
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="navBarRenderer" ref="navBarRenderer" />
    </bean>
	
	<bean class="org.sakaiproject.evaluation.tool.producers.ModifyHierarchyNodePermsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="hierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />
		<property name="messageLocator" ref="messageLocator" />
    </bean>

    <!-- Admin console, hierarchy rules -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyHierarchyNodeRulesProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic" ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="hierarchyLogic" ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="navBarRenderer" ref="navBarRenderer" />
    </bean>

    <!-- SUMMARY producers -->
    <bean class="org.sakaiproject.evaluation.tool.producers.SummaryProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="navBarRenderer" ref="navBarRenderer" />
        <property name="adminBoxRenderer" ref="adminBoxRenderer" />
        <property name="beEvaluatedBoxRenderer" ref="beEvaluatedBoxRenderer" />
        <property name="evaluateBoxRenderer" ref="evaluateBoxRenderer" />
    </bean>


    <!-- TEMPLATES -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlTemplatesProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="locale" ref="requestLocale" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyTemplateProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.RemoveTemplateProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>
    
    <bean class="org.sakaiproject.evaluation.tool.producers.ChownTemplateProducer">
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>


    <!-- TEMPLATE ITEMS -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyTemplateItemsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="localTemplateLogic" ref="localTemplateLogic" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="addItemControlRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.AddItemControlRenderer" />
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
		<property name="messageLocator" ref="messageLocator" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyBlockProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="richTextEvolver" ref="richTextEvolver" />
        <property name="hierarchyNodeSelectorRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.HierarchyNodeSelectorRenderer" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ExistingItemsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>


    <!-- ITEMS -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlItemsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="evalSettings" ref="org.sakaiproject.evaluation.logic.EvalSettings" /> 
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyItemProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" /> 
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="boundedDynamicListInputEvolver"
            ref="standardDynamicListInputEvolver" />
        <property name="richTextEvolver" ref="richTextEvolver" />
        <property name="hierarchyNodeSelectorRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.HierarchyNodeSelectorRenderer" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.PreviewItemProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="itemRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.ItemRenderer" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.RemoveItemProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="itemRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.ItemRenderer" />
    </bean>


    <!-- EXPERT items views -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlExpertItemsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>
    
    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyExpertItemProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>
    
    <bean class="org.sakaiproject.evaluation.tool.producers.PreviewExpertItemProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>
    
    
    <bean class="org.sakaiproject.evaluation.tool.producers.RemoveExpertItemProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="external"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
    </bean>
    
    
    <bean class="org.sakaiproject.evaluation.tool.producers.ExpertCategoryProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ExpertObjectiveProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ExpertItemsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />     
    </bean>

    <!-- SCALES -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlScalesProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyScaleProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evalSettings" ref="org.sakaiproject.evaluation.logic.EvalSettings" /> 
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="boundedDynamicListInputEvolver"
            ref="standardDynamicListInputEvolver" />
        <property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.RemoveScaleProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="external"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.PreviewScaleProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="itemRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.ItemRenderer" />
        <property name="messageLocator" ref="messageLocator" />
    </bean>


    <!-- EVALUATIONS -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlEvaluationsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="deliveryService"
            ref="org.sakaiproject.evaluation.logic.EvalDeliveryService" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="evalBeanUtils"
            ref="org.sakaiproject.evaluation.beans.EvalBeanUtils" />
        <property name="locale" ref="requestLocale" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
		<property name="humanDateRenderer" ref="humanDateRenderer" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationCreateProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="richTextEvolver" ref="richTextEvolver" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationSettingsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="dateEvolver" ref="sakaiDateFieldEvolver"/>
        <property name="richTextEvolver" ref="richTextEvolver" />
        <property name="locale" ref="requestLocale" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationAssignProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="hierarchyRenderUtil"
            ref="org.sakaiproject.evaluation.tool.renderers.HierarchyTreeNodeSelectRenderer" />
        <property name="locale" ref="requestLocale" />
        <property name="messageLocator" ref="messageLocator" />
		<property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="viewStateHandler" ref="viewStateHandler" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="renderingUtils" ref="renderingUtils" />
    </bean>
	
    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationAssignSelectProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
       <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
		<property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        </bean>

    <!-- This renderer is only used by the EvaluationAssignProducer (right above here) -->
    <bean id="org.sakaiproject.evaluation.tool.renderers.HierarchyTreeNodeSelectRenderer"
        class="org.sakaiproject.evaluation.tool.renderers.HierarchyTreeNodeSelectRenderer">
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationAssignConfirmProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="locale" ref="requestLocale" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationAssignmentsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="navBarRenderer" ref="navBarRenderer" />
        <property name="renderingUtils" ref="renderingUtils" />
        <property name="locale" ref="requestLocale" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.RemoveEvalProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="locale" ref="requestLocale" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationNotificationsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="locale" ref="requestLocale" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.EvaluationRespondersProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="settings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="deliveryService"
            ref="org.sakaiproject.evaluation.logic.EvalDeliveryService" />
        <property name="locale" ref="requestLocale" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>


    <!-- EMAIL TEMPLATES -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ControlEmailTemplatesProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.PreviewEmailProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyEmailProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>


    <!-- TAKE EVALUATION -->
    <bean class="org.sakaiproject.evaluation.tool.producers.TakeEvalProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="itemRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.ItemRenderer" />
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="localResponsesLogic" ref="localResponsesLogic" />
        <property name="messages" ref="targettedMessageList" />
        <property name="locale" ref="requestLocale" />
        <property name="httpServletResponse" ref="httpServletResponse" />
        <property name="messageLocator" ref="messageLocator" />
        <property name="evalExternalLogic" ref="org.sakaiproject.evaluation.logic.externals.EvalExternalLogic"/>
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.PreviewEvalProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="authoringService"
            ref="org.sakaiproject.evaluation.logic.EvalAuthoringService" />
        <property name="itemRenderer"
            ref="org.sakaiproject.evaluation.tool.renderers.ItemRenderer" />
        <property name="externalHierarchyLogic"
            ref="org.sakaiproject.evaluation.logic.externals.ExternalHierarchyLogic" />
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="messageLocator" ref="messageLocator" />
        <property name="httpServletResponse" ref="httpServletResponse" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ShowEvalCategoryProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="evaluationSetupService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationSetupService" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="locale" ref="requestLocale" />
    </bean>

    <!-- Dater Views -->
    <bean class="org.sakaiproject.evaluation.tool.producers.UserAvailableEvalsDataView">
        <property name="jsonProvider" ref="JSONProvider" />
    </bean>


    <!-- REPORTING -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ReportsViewingProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="evalSettings"
            ref="org.sakaiproject.evaluation.logic.EvalSettings" />
        <property name="reportingPermissions"
            ref="org.sakaiproject.evaluation.logic.ReportingPermissions" />
        <property name="evalResponseAggregatorUtil"
            ref="org.sakaiproject.evaluation.tool.utils.EvalResponseAggregatorUtil" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
        <property name="deliveryService"
            ref="org.sakaiproject.evaluation.logic.EvalDeliveryService" />
        <property name="evalBeanUtils"
            ref="org.sakaiproject.evaluation.beans.EvalBeanUtils" />
    </bean>

    <bean class="org.sakaiproject.evaluation.tool.producers.ReportChooseGroupsProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="evaluationService"
            ref="org.sakaiproject.evaluation.logic.EvalEvaluationService" />
        <property name="reportingPermissions"
            ref="org.sakaiproject.evaluation.logic.ReportingPermissions" />
		<property name="navBarRenderer" ref="navBarRenderer" />	
    </bean>

    <!-- Adhoc Group Views -->
    <bean class="org.sakaiproject.evaluation.tool.producers.ModifyAdhocGroupProducer">
        <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
        <property name="commonLogic"
            ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
        <property name="adhocGroupsBean" ref="adhocGroupsBean" />
    </bean>

	<!-- Flow cycle messages view -->
	 <bean class="org.sakaiproject.evaluation.tool.producers.MessagesProducer" />
	
    <!-- Configuration Import/Export -->
    <bean id="exportConfigHook" init-method="doNothing" class="org.sakaiproject.evaluation.tool.settings.ExportConfigurationHook">
      <property name="response" ref="httpServletResponse" />
      <property name="evalSettings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
    </bean>
    
    <bean id="importConfigProducer" class="org.sakaiproject.evaluation.tool.producers.ImportConfigProducer">
      <property name="commonProducerBean" ref="org.sakaiproject.evaluation.tool.CommonProducerBean" />
      <property name="commonLogic" ref="org.sakaiproject.evaluation.logic.EvalCommonLogic" />
      <property name="evalSettings" ref="org.sakaiproject.evaluation.logic.EvalSettings" />
      <property name="navBarRenderer" ref="navBarRenderer" />
    </bean>
    
    <bean id="overwriteSettingsHandler" class="org.sakaiproject.evaluation.tool.settings.OverwriteSettingHandler">
      <property name="settingsBean" ref="settingsBean" />
    </bean>  
    
    <bean id="propertiesFileParser" class="org.sakaiproject.evaluation.tool.settings.ConfigSettingsPropertiesFileParser">
      <property name="multipartMap" ref="multipartMap" />
      <property name="importConfigProducer" ref="importConfigProducer"/>
      <property name="overwriteSettingHandler" ref="overwriteSettingsHandler" />
    </bean>
    
    <!-- Permission Helper -->
    <bean class="org.sakaiproject.evaluation.tool.producers.AssignPermissionsProducer">
        <property name="sessionManager" ref="org.sakaiproject.tool.api.SessionManager" />
        <property name="site" ref="sakai-Site" />
    </bean>
</beans>
